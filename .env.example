# EasyPost MCP Server - Environment Configuration
#
# ═══════════════════════════════════════════════════════════════════
# SETUP INSTRUCTIONS
# ═══════════════════════════════════════════════════════════════════
#
# 1. Copy this file:  cp .env.example .env
# 2. Edit .env with your actual values
# 3. Never commit .env (already in .gitignore)
#
# This is the SINGLE source of truth for all environment variables.
# Used by: Backend app, Docker Compose, direnv (.envrc)
# ═══════════════════════════════════════════════════════════════════

# EasyPost API Keys
# Get from https://easypost.com/account/api-keys
# Development: Use test key (EZTK...)
# Production: Use live key (EZAK...)
EASYPOST_API_KEY=your_test_api_key_here
EASYPOST_TEST_KEY=your_test_api_key_here

# Database Connection
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://easypost:easypost@localhost:5432/easypost_mcp
POSTGRES_PASSWORD=easypost

# Environment
# Options: development | production | test
# Controls application behaviour (logging, debug mode, etc.)
ENVIRONMENT=development

# Debug Settings
DEBUG=true
LOG_LEVEL=DEBUG

# Rate Limiting
# Set to false for tests to avoid rate limit errors
RATE_LIMIT_ENABLED=true

# CORS Configuration
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:5174,http://localhost:4173

# Database Connection Pool (M3 Max optimised)
# Formula: (workers × pool_size) + max_overflow <= PostgreSQL max_connections
# Default: 20 base + 30 overflow = 50 total per worker
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30
DATABASE_POOL_RECYCLE=3600
DATABASE_POOL_TIMEOUT=30
DATABASE_COMMAND_TIMEOUT=60
DATABASE_CONNECT_TIMEOUT=10

# Server Configuration
MCP_HOST=0.0.0.0
MCP_PORT=8000
MCP_LOG_LEVEL=INFO

# CORS Advanced Settings
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=Content-Type,Authorization,X-Request-ID,Accept,Origin

# Security (for production)
ALLOWED_HOSTS=localhost,127.0.0.1
